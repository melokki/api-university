FROM node:18

ARG APP_KEY
ARG APP_HOST
ARG HOST
ARG PORT
ARG PG_HOST
ARG PG_PORT
ARG PG_USER
ARG PG_PASSWORD
ARG PG_DB_NAME
ARG DB_CONNECTION

ENV ENV_SILENT=true

WORKDIR /code

COPY . .

# RUN npm config set unsafe-perm true

EXPOSE 4000

ENTRYPOINT [ "npm", "run", "dev" ]